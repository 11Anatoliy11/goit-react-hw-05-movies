{"version":3,"file":"static/js/MovieDetailsPage.3eeef73f.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/MovieDetailsPage/MovieDetailsPage.module.css?9108","pages/MovieDetailsPage/MovieDetailsPage.js","services/movies-api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movieContainer\":\"MovieDetailsPage_movieContainer__eXMkA\",\"movieImg\":\"MovieDetailsPage_movieImg__JgASc\",\"link\":\"MovieDetailsPage_link__rhdjc\",\"active\":\"MovieDetailsPage_active__52Wu-\",\"notFound\":\"MovieDetailsPage_notFound__bS-BD\"};","import Loader from 'components/Loader/Loader';\nimport { useState, useEffect, lazy, Suspense } from 'react';\nimport {\n  useParams,\n  NavLink,\n  useRouteMatch,\n  useLocation,\n  useHistory,\n  Switch,\n  Route,\n} from 'react-router-dom';\nimport { getMovieDetails, IMAGE_URL } from '../../services/movies-api';\nimport s from './MovieDetailsPage.module.css';\n\nconst MovieReview = lazy(() =>\n  import('../MovieReview' /* webpackChunkName:\"MovieReview\" */)\n);\nconst MovieCastView = lazy(() =>\n  import('../MovieCastView' /* webpackChunkName:\"MovieCastView\" */)\n);\n\nexport default function MovieDetailsPage() {\n  const [movie, setMovie] = useState(null);\n  const { movieId } = useParams();\n  const history = useHistory();\n  const location = useLocation();\n  const { url, path } = useRouteMatch();\n\n  useEffect(() => {\n    const getMovie = async () => {\n      const currentMovie = await getMovieDetails(movieId);\n\n      setMovie(currentMovie);\n    };\n\n    getMovie();\n  }, [movieId]);\n\n  const onGoBack = () => {\n    history.push(location?.state?.from?.location ?? '/movies');\n  };\n\n  return (\n    <>\n      {!movie ? (\n        <div className={s.notFound}>This movie is not found</div>\n      ) : (\n        <>\n          <button type=\"button\" onClick={onGoBack}>\n            Go back\n          </button>\n          <div className={s.movieContainer}>\n            <div className={s.movieImg}>\n              <img\n                src={\n                  movie.poster_path\n                    ? IMAGE_URL + movie.poster_path\n                    : `https://upload.wikimedia.org/wikipedia/commons/1/14/No_Image_Available.jpg?20200913095930`\n                }\n                alt={movie.title}\n                widht=\"\"\n                height=\"\"\n              />\n            </div>\n\n            <div>\n              <h2>{movie.title}</h2>\n              <p>User Score: {`${Math.round(movie.vote_average * 10)}`}%</p>\n              <h3>Overview</h3>\n              <p>{`${movie.overview}`}</p>\n              <h3>Genres</h3>\n              <p>{`${movie.genres.map(genre => genre.name).join(' / ')}`}</p>\n            </div>\n          </div>\n        </>\n      )}\n      <hr />\n      <p>Additional information</p>\n      <nav>\n        <NavLink\n          to={{ pathname: `${url}/cast`, state: location.state }}\n          className={s.link}\n          activeClassName={s.active}\n        >\n          Cast\n        </NavLink>\n        <NavLink\n          to={{ pathname: `${url}/reviews`, state: location.state }}\n          className={s.link}\n          activeClassName={s.active}\n        >\n          Reviews\n        </NavLink>\n      </nav>\n\n      <Suspense fallback={<Loader />}>\n        <Switch>\n          <Route path={`${path}/cast`}>\n            <MovieCastView movieId={movieId} />\n          </Route>\n\n          <Route path={`${path}/reviews`}>\n            <MovieReview movieId={movieId} />\n          </Route>\n        </Switch>\n      </Suspense>\n    </>\n  );\n}\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nconst KEY = '9bca1f873478832455af25e449c4a86d';\nexport const IMAGE_URL = 'https://image.tmdb.org/t/p/w500';\n\nexport const searchMovies = async stringToSearch => {\n  const queryString = `search/movie?api_key=${KEY}&language=en-US&page=1&include_adult=false&query=${stringToSearch}`;\n  const { data: movies } = await axios.get(queryString);\n  return movies;\n};\n\nexport const getMovieDetails = async movieId => {\n  const queryString = `movie/${movieId}$?api_key=${KEY}&language=en-US`;\n  const { data: movie } = await axios.get(queryString);\n  return movie;\n};\n\nexport const fetchTrendingMovies = async () => {\n  const queryString = `trending/movie/day?api_key=${KEY}`;\n  const { data: movies } = await axios.get(queryString);\n  return movies;\n};\n\nexport const getMovieCast = async movieId => {\n  const queryString = `movie/${movieId}/credits?api_key=${KEY}&language=en-US`;\n  const data = await axios.get(queryString);\n  const result = data?.data?.cast?.filter((x, i, a) => a.findIndex(it => it.id === x.id) === i)\n  return result;\n};\n\nexport const getReviews = async movieId => {\n  const queryString = `movie/${movieId}/reviews?api_key=${KEY}&language=en-US`;\n  const { data } = await axios.get(queryString);\n  return data;\n};\n"],"names":["MovieReview","lazy","MovieCastView","MovieDetailsPage","_useState","useState","_useState2","_slicedToArray","movie","setMovie","movieId","useParams","history","useHistory","location","useLocation","_useRouteMatch","useRouteMatch","url","path","useEffect","getMovie","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","currentMovie","wrap","_context","prev","next","getMovieDetails","sent","stop","apply","arguments","_jsxs","_Fragment","children","_jsx","type","onClick","_location$state$from$","_location$state","_location$state$from","push","state","from","className","s","src","poster_path","IMAGE_URL","alt","title","widht","height","concat","Math","round","vote_average","overview","genres","map","genre","name","join","NavLink","to","pathname","activeClassName","Suspense","fallback","Loader","Switch","Route","axios","KEY","searchMovies","stringToSearch","queryString","_yield$axios$get","movies","data","abrupt","_x","_ref2","_callee2","_yield$axios$get2","_context2","_x2","fetchTrendingMovies","_ref3","_callee3","_yield$axios$get3","_context3","getMovieCast","_ref4","_callee4","_data$data","_data$data$cast","result","_context4","cast","filter","x","i","a","findIndex","it","id","_x3","getReviews","_ref5","_callee5","_yield$axios$get4","_context5","_x4"],"sourceRoot":""}